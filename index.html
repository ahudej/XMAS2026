<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weihnachtsr√§tsel f√ºr dich ‚ù§Ô∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a472a 0%, #2d5a3d 50%, #1a472a 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        .snowflake {
            position: fixed;
            top: -10px;
            color: white;
            font-size: 1.5em;
            opacity: 0.8;
            animation: fall linear infinite;
            pointer-events: none;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #c41e3a;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            color: #2d5a3d;
            font-size: 1.1em;
            font-style: italic;
        }

        .puzzle {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .puzzle.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .puzzle-content {
            background: #f8f8f8;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 5px solid #c41e3a;
        }

        .puzzle-title {
            color: #c41e3a;
            font-size: 1.5em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .puzzle-text {
            color: #333;
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.05em;
        }

        .input-group {
            margin-bottom: 15px;
        }

        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: #c41e3a;
        }

        button {
            background: #c41e3a;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        button:hover {
            background: #a01729;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(196, 30, 58, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        .feedback {
            margin-top: 15px;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            display: none;
        }

        .feedback.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .feedback.error {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .progress {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            transition: all 0.3s;
        }

        .progress-dot.completed {
            background: #28a745;
            transform: scale(1.2);
        }

        .progress-dot.active {
            background: #c41e3a;
            transform: scale(1.3);
        }

        .final-message {
            text-align: center;
            padding: 30px;
        }

        .final-message h2 {
            color: #c41e3a;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .final-message p {
            color: #333;
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .heart {
            font-size: 3em;
            color: #c41e3a;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        .hint {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9em;
        }

        .math-symbols {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .symbol-btn {
            padding: 15px;
            background: white;
            border: 2px solid #c41e3a;
            border-radius: 8px;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .symbol-btn:hover {
            background: #c41e3a;
            color: white;
            transform: scale(1.1);
        }

        .word-puzzle {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }

        .word-box {
            width: 40px;
            height: 40px;
            border: 2px solid #c41e3a;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #c41e3a;
        }

        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }

            .header h1 {
                font-size: 2em;
            }

            .puzzle-title {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÑ Weihnachtsr√§tsel üéÑ</h1>
            <p>F√ºr meine liebste ‚ù§Ô∏è</p>
        </div>

        <div class="progress">
            <div class="progress-dot active" data-puzzle="0"></div>
            <div class="progress-dot" data-puzzle="1"></div>
            <div class="progress-dot" data-puzzle="2"></div>
        </div>

        <!-- R√§tsel 1: Einfaches Mathe-R√§tsel -->
        <div class="puzzle active" data-puzzle="0">
            <div class="puzzle-content">
                <div class="puzzle-title">üéÖ R√§tsel 1: Versteckte Zahlen</div>
                <div class="puzzle-text">
                    Manche Antworten stehen nicht im Internet.<br>
                    Manche nicht im Kopf.<br>
                    üîπ Sie sind bereits eingetragen<br>
                    üîπ Sie geh√∂ren uns beiden<br>
                    üîπ Und sie warten darauf, gefunden zu werden
                </div>
                <div class="input-group">
                    <input type="text" id="answer0" placeholder="Deine Antwort...">
                </div>
                <button onclick="checkAnswer(0, '28.06.2026')">Antwort pr√ºfen</button>
                <div class="feedback" id="feedback0"></div>
            </div>
        </div>

        <!-- R√§tsel 2: Wortspiel -->
        <div class="puzzle" data-puzzle="1">
            <div class="puzzle-content">
                <div class="puzzle-title">‚≠ê R√§tsel 2: Navi Ziel</div>
                <div class="puzzle-text">
                    Wo geht unsere n√§chste Reise hin?
                </div>
                <div class="input-group">
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="radio" name="castle" value="neuschwanstein" style="margin-right: 10px;">
                        Burg Neuschwanstein
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="radio" name="castle" value="clam" style="margin-right: 10px;">
                        Burg Clam
                    </label>
                    <label style="display: block; margin: 10px 0; cursor: pointer;">
                        <input type="radio" name="castle" value="tratzberg" style="margin-right: 10px;">
                        Burg Tratzberg
                    </label>
                </div>
                <button onclick="checkAnswerRadio(1, 'clam')">Antwort pr√ºfen</button>
                <div class="feedback" id="feedback1"></div>
            </div>
        </div>

        <!-- R√§tsel 3: Musik R√§tsel (Letztes R√§tsel) -->
        <div class="puzzle" data-puzzle="2">
            <div class="puzzle-content">
                <div class="puzzle-title">üéÅ R√§tsel 3: Ohrwurm</div>
                <div class="puzzle-text">
                    Erkennst du unser Lied?<br><br>
                    H√∂re genau hin und rate, welches Lied das ist!
                </div>
                <div style="display: flex; flex-direction: column; gap: 15px; margin: 20px 0;">
                    <button onclick="playMusic(2)" style="background: #2d5a3d;">üéµ 2 Sekunden abspielen</button>
                    <button onclick="playMusic(4)" style="background: #2d5a3d;">üéµ 4 Sekunden abspielen</button>
                    <button onclick="playMusic(6)" style="background: #2d5a3d;">üéµ 6 Sekunden abspielen</button>
                    <button onclick="playMusic(8)" style="background: #2d5a3d;">üéµ 8 Sekunden abspielen</button>
                    <button onclick="playMusic(10)" style="background: #2d5a3d;">üéµ 10 Sekunden abspielen</button>
                    <button onclick="playMusic(0)" style="background: #c41e3a;">üéµ Das ganze Lied abspielen</button>
                </div>
                <div class="puzzle-text" style="margin-top: 20px; font-weight: bold;">
                    Wie hei√üt die Band dieses Liedes?
                </div>
                <div class="input-group">
                    <input type="text" id="answer2" placeholder="Deine Antwort...">
                </div>
                <button onclick="checkAnswer(2, 'One Republic')">Antwort pr√ºfen</button>
                <div class="feedback" id="feedback2"></div>
            </div>
        </div>

        <!-- R√§tsel 4 wird entfernt -->
        <!-- R√§tsel 5 wird entfernt -->

        <!-- Final Message -->
        <div class="puzzle" data-puzzle="3">
            <div class="final-message">
                <div class="heart">‚ù§Ô∏è</div>
                <h2>Du hast alle R√§tsel gel√∂st!</h2>
                <p style="font-size: 1.3em; color: #c41e3a; font-weight: bold; margin-top: 30px;">
                    Es geht f√ºr uns auf die Burg Clam zu<br> ONE REPUBLIC
                </p>
                <div style="margin-top: 40px;">
                    <img src="Ticket.jpg" alt="Ticket" style="max-width: 100%; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); animation: pulse 2s ease-in-out infinite;">
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPuzzle = 0;
        const totalPuzzles = 3;

        // Schneeflocken Animation
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.innerHTML = '‚ùÑ';
            snowflake.style.left = Math.random() * 100 + '%';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
            snowflake.style.opacity = Math.random();
            snowflake.style.fontSize = Math.random() * 1 + 0.5 + 'em';
            document.body.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, 5000);
        }

        setInterval(createSnowflake, 300);

        function normalizeAnswer(answer) {
            return answer.toString().toLowerCase().trim()
                .replace(/√§/g, 'ae')
                .replace(/√∂/g, 'oe')
                .replace(/√º/g, 'ue')
                .replace(/√ü/g, 'ss');
        }

        function checkAnswer(puzzleIndex, correctAnswer) {
            const input = document.getElementById('answer' + puzzleIndex);
            const feedback = document.getElementById('feedback' + puzzleIndex);
            const userAnswer = normalizeAnswer(input.value);
            const correct = normalizeAnswer(correctAnswer);

            feedback.classList.remove('success', 'error', 'show');

            if (userAnswer === correct) {
                feedback.textContent = 'üéâ Richtig! Weiter zum n√§chsten R√§tsel...';
                feedback.classList.add('success', 'show');
                
                setTimeout(() => {
                    nextPuzzle();
                }, 1500);
            } else {
                feedback.textContent = '‚ùå Nicht ganz richtig. Versuch es nochmal!';
                feedback.classList.add('error', 'show');
                
                // Input wackeln lassen
                input.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    input.style.animation = '';
                }, 500);
            }
        }

        function checkAnswerRadio(puzzleIndex, correctAnswer) {
            const feedback = document.getElementById('feedback' + puzzleIndex);
            const selectedRadio = document.querySelector('input[name="castle"]:checked');
            
            feedback.classList.remove('success', 'error', 'show');

            if (!selectedRadio) {
                feedback.textContent = '‚ùå Bitte w√§hle eine Antwort aus!';
                feedback.classList.add('error', 'show');
                return;
            }

            const userAnswer = selectedRadio.value;

            if (userAnswer === correctAnswer) {
                feedback.textContent = 'üéâ Richtig! Weiter zum n√§chsten R√§tsel...';
                feedback.classList.add('success', 'show');
                
                setTimeout(() => {
                    nextPuzzle();
                }, 1500);
            } else {
                feedback.textContent = '‚ùå Nicht ganz richtig. Versuch es nochmal!';
                feedback.classList.add('error', 'show');
            }
        }

        function nextPuzzle() {
            // Aktuelles R√§tsel verstecken
            const currentElement = document.querySelector(`[data-puzzle="${currentPuzzle}"].puzzle`);
            if (currentElement) {
                currentElement.classList.remove('active');
            }

            // Progress Dot aktualisieren
            const currentDot = document.querySelector(`.progress-dot[data-puzzle="${currentPuzzle}"]`);
            if (currentDot) {
                currentDot.classList.remove('active');
                currentDot.classList.add('completed');
            }

            // Zum n√§chsten R√§tsel
            currentPuzzle++;

            if (currentPuzzle <= totalPuzzles) {
                const nextElement = document.querySelector(`[data-puzzle="${currentPuzzle}"].puzzle`);
                if (nextElement) {
                    nextElement.classList.add('active');
                }

                const nextDot = document.querySelector(`.progress-dot[data-puzzle="${currentPuzzle}"]`);
                if (nextDot) {
                    nextDot.classList.add('active');
                }
            }
        }

        // Audio element f√ºr Musik
        let audioElement = null;

        function playMusic(seconds) {
            // Erstelle Audio Element wenn noch nicht vorhanden
            if (!audioElement) {
                audioElement = new Audio();
                // WICHTIG: Hier muss die URL zu deinem Lied eingef√ºgt werden
                // Lade dein Lied auf GitHub hoch und ersetze die URL
                audioElement.src = 'song.mp3'; // Ersetze mit deiner Musik-Datei
            }

            // Stoppe vorherige Wiedergabe
            audioElement.pause();
            audioElement.currentTime = 0;

            // Spiele die gew√ºnschte Anzahl Sekunden
            audioElement.play();

            // Wenn seconds = 0, spiele das ganze Lied
            if (seconds === 0) {
                return; // Lasse das Lied bis zum Ende spielen
            }

            // Stoppe nach der gew√ºnschten Zeit
            setTimeout(() => {
                audioElement.pause();
                audioElement.currentTime = 0;
            }, seconds * 1000);
        }

        // Shake Animation f√ºr falsche Antworten
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-10px); }
                75% { transform: translateX(10px); }
            }
        `;
        document.head.appendChild(style);

        // Enter-Taste f√ºr Submit
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const activeInput = document.querySelector('.puzzle.active input');
                if (activeInput) {
                    const puzzleIndex = activeInput.id.replace('answer', '');
                    const button = activeInput.parentElement.nextElementSibling;
                    if (button && button.tagName === 'BUTTON') {
                        button.click();
                    }
                }
            }
        });
    </script>
</body>
</html>